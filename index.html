<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script type="text/javascript">

        function sanitize(aggiustare){
            let aggiustato = aggiustare.toLowerCase().trim()
            return aggiustato
        }

        function verifica(risposta, correzzione){
            if (risposta == correzzione){
                return 1
            }else{
                return 0
            }
        }

        function calcolopercentuale(punti, max){
            let percentuale =  (punti / 5) * 100
            return percentuale
        }

        function richiestautente(){
            let risposta = prompt( domanda )
            while(risposta===null){
                alert ("Risposta resettata")
                risposta = prompt(domanda)
            }
            return  risposta
        }
        let domanda= "Inserisci il tuo nome:"
        let nome = richiestautente(domanda)
        alert("D'adesso inizieranno le domande, rispondi solo con una parola")
        alert("Per andare avanti spingi ok, se spingerai annulla la risposta verra resettata")
        let punteggio = 0
        let giusta =" "
        let ndomande = 5
        for (let i = 0;  i<ndomande; i++){
            switch (i){
                case 0:
                    domanda= "Quanti continenti ci sono sulla terra(a lettere)?"
                    giusta = "sette"
                    break;
                case 1:
                    domanda= "Qual' è il pianeta più vicino al sole?"
                    giusta = "mercurio"
                    break
                case 2:
                    domanda= "Qual'è la capitale dell' Italia?"
                    giusta = "roma"
                    break
                case 3:
                    domanda= "Qual'è il liquido essenziale per la vita?"
                    giusta = "acqua"
                    break
                case 4:
                    domanda = "Qual'è l'elemento liquido che ha come  simbolo l'H?"
                    giusta = "idrogeno"
                    break
            }
            let richiesta = richiestautente(domanda)
            let sanizato = sanitize(richiesta)
            punteggio = punteggio + verifica(sanizato, giusta)
        }

        let risultato= calcolopercentuale(punteggio)
        alert("Hai finito il test, calcolo del risultato...")
        alert(nome+" hai totalizzato un punteggio del " + risultato + "%")
    </script>
</body>
</html>